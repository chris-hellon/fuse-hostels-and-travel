const $dropdown = $(".dropdown"), $dropdownToggle = $(".dropdown-toggle"), $dropdownMenu = $(".dropdown-menu"), $showClass = "show"; let $windowWidth = null; $(window).on("beforeunload", function () { showLoader(), window.scrollTo(0, 0) }), $(window).on("scroll", function () { adjustNavbar(), $(".has-parallax-scroll").each(function () { var e = $(this).offset().top; $(window).scrollTop() + $(window).height() > e && $(this).addClass("fade-in") }) }), $(window).on("resize", function () { bindFuseJs(), adjustNavbar(), setNavigationDropdownHover() }), $(window).on("load", function () { bindFuseJs(), adjustNavbar(), setNavigationDropdownHover(), configureDatepickers(), configureSelects(), setParallaxMarquee(), getCookie(), $(".navbar-toggler").on("click", function () { $(".animated-icon3").toggleClass("open"), $(".navbar").hasClass("bg-dark") ? window.setTimeout(function () { $(".navbar").removeClass("bg-dark"), $(".navbar").hasClass("shadow") && ($(".navbar-toggler i").addClass("text-dark").removeClass("text-white"), $(".animated-icon3 span").css("background", "#090511")) }, 200) : ($(".navbar").addClass("bg-dark"), $(".navbar-toggler i").addClass("text-white").removeClass("text-dark"), $(".animated-icon3 span").css("background", "#FFFFFF"), $(".navbar .nav-link").addClass("text-white")) }), window.setTimeout(function () { history.replaceState("", document.title, window.location.pathname) }, 0), window.setTimeout(function () { window.scrollTo(0, 0) }, 100), window.setTimeout(function () { hideLoader(), $(".has-parallax-scroll").each(function () { if ($(this).is(":visible")) { var e = $(this).offset().top; $(window).scrollTop() + $(window).height() > e && $(this).addClass("fade-in") } }) }, 800), $(".accordion-button").on("click", function () { $(".accordion-collapse").removeClass("show"), $(".accordion-button").addClass("collapsed"); var e = $(this).find("i"); e.hasClass("fa-caret-down") ? e.removeClass("fa-caret-down").addClass("fa-caret-up") : e.removeClass("fa-caret-up").addClass("fa-caret-down"), $(".accordion-button i").not(e).removeClass("fa-caret-up").addClass("fa-caret-down") }), $("#bookNowForm, #bookNowModalForm").on("submit", function () { validateSelectElements($(this)) }), $("#download-data").on("submit", function () { setTimeout(function () { hideLoader() }, 1e3) }), $("#loginModalForm").submit(function (e) { return !(!$(this).attr("validated") && $(this).valid()) || ($("#loginModalButton").prop("disabled", !0), postAjax("ValidateUser", { Username: $("#LoginModal_Email").val(), Password: $("#LoginModal_Password").val() }, function (a) { if (!0 != a.success) return e.preventDefault(), e.stopImmediatePropagation(), $("#feedbackAlertMessage").html(a.message), mdb.Alert.getInstance(document.getElementById("feedbackAlert")).show(), $("#loginModalButton").prop("disabled", !1), !1; $("#loginModalForm").attr("validated", !0), $("#loginModalForm").submit(), $("#loginModalButton").prop("disabled", !1) }, !0), !1) }), $("#registerModalForm").submit(function (e) { return !(!$(this).attr("validated") && $(this).valid()) || ($("#registerModalButton").prop("disabled", !0), postAjax("CheckIfUserExists", { Username: $("#RegisterModal_Email").val(), Password: $("#RegisterModal_Password").val() }, function (a) { if (!0 != a.success) return e.preventDefault(), e.stopImmediatePropagation(), $("#feedbackAlertMessage").html(a.message), mdb.Alert.getInstance(document.getElementById("feedbackAlert")).show(), $("#registerModalButton").prop("disabled", !1), !1; $("#registerModalForm").attr("validated", !0), $("#registerModalForm").submit(), $("#registerModalButton").prop("disabled", !1) }, !0), !1) }), $("#feedbackAlert button").on("click", function () { mdb.Alert.getInstance(document.getElementById("feedbackAlert")).hide() }); let e = document.getElementById("btn-back-to-top"); window.onscroll = function () { document.body.scrollTop > 20 || document.documentElement.scrollTop > 20 ? e.style.display = "block" : e.style.display = "none" }, e.addEventListener("click", function e() { document.body.scrollTop = 0, document.documentElement.scrollTop = 0 }) }); var setMobileNav = function () { isMobile() ? $(".navbar, .sticky-top").addClass("shadow") : $(".navbar, .sticky-top").removeClass("shadow") }, setMobileCarouselImages = function () { isMobile() ? $("#fullPageCarousel").find(".carousel-item").each(function () { let e = $(this).css("background-image"); e = e.replace("w-2000", "w-1000"), $(this).css("background-image", e) }) : $("#fullPageCarousel").find(".carousel-item").each(function () { let e = $(this).css("background-image"); e = e.replace("w-1000", "w-2000"), $(this).css("background-image", e) }) }, getWindowWidth = function () { return $(window).width() }, isMobile = function () { return 992 >= getWindowWidth() }, setNavigationDropdownHover = function () { ($windowWidth = getWindowWidth()) > 992 ? $dropdown.hover(function () { let e = $(this); e.addClass($showClass), e.find($dropdownToggle).attr("aria-expanded", "true"), e.find($dropdownMenu).addClass($showClass) }, function () { let e = $(this); e.removeClass($showClass), e.find($dropdownToggle).attr("aria-expanded", "false"), e.find($dropdownMenu).removeClass($showClass) }) : $dropdown.off("mouseenter mouseleave") }, showLoader = function () { $(".pre-loader").show(), $("html").addClass("no-scrollbar") }, hideLoader = function () { $("html").removeClass("no-scrollbar"), $(".pre-loader").hide() }, bindFuseJs = function () { adjustCardMargain(), adjustCircularImages(), setMultiItemCarousel(), $(".inherit-sticky-parent").length > 0 && $(".inherit-sticky-parent").each(function () { let e = $(".sticky-top[data-mdb-sticky-boundary]").outerHeight(); $(this).css("margin-top", "-" + e + "px"), $(this).find(".offset-background").css("background-image", "-webkit-linear-gradient(-50deg, #FFFFFF 70%, #D1AC00 50%)") }) }, adjustNavbar = function () { if (isMobile() ? $(".navbar-collapse").addClass("vh-100") : $(".navbar-collapse").removeClass("vh-100"), $(".navbar").hasClass("always-shadow") ? isMobile() ? $(".navbar").hasClass("bg-dark") || ($(".navbar").removeClass("bg-dark"), $(".navbar-toggler i").addClass("text-dark").removeClass("text-white"), $(".animated-icon3 span").css("background", "#090511")) : ($(".navbar").hasClass("bg-dark") && ($(".navbar-collapse").removeClass("show"), $(".navbar").removeClass("bg-dark").addClass("bg-white")), $(".navbar .nav-link").removeClass("text-white")) : $(this).scrollTop() > 86 ? ($(".fixed-top").addClass("shadow"), $(".navbar").hasClass("bg-dark") ? $(".navbar .nav-link").addClass("text-white") : ($(".navbar-toggler i").addClass("text-dark").removeClass("text-white"), $(".animated-icon3").find("span").css("background", "#090511"))) : ($(".navbar-collapse").hasClass("show") || ($(".navbar-toggler i").removeClass("text-dark"), $(".animated-icon3 span").css("background", "#FFFFFF"), $(".fixed-top").removeClass("shadow")), isMobile() || ($(".navbar-collapse").removeClass("show"), $(".navbar").removeClass("bg-dark").removeClass("bg-white").removeClass("shadow"), $(".navbar .nav-link").removeClass("text-white"))), window.setTimeout(function () { if ($(".navbar").hasClass("always-shadow")) { let e = $(".navbar").outerHeight().toFixed(2) + "px !important;"; $("main").attr("style", "padding-top:" + e) } }, 200), $(".is-pinned").is(":visible") && $(".navbar").addClass("no-shadow"), $(".sticky-top").length > 0) { var e = $(".sticky-top").offset().top - $(window).scrollTop(); 81 == e || isMobile() && 76 == e ? ($(".navbar").addClass("no-shadow"), $(".sticky-top").addClass("is-pinned").addClass("bg-white")) : ($(".navbar").removeClass("no-shadow"), $(".sticky-top").removeClass("is-pinned").removeClass("bg-white")) } }; Date.prototype.addDays = function (e) { var a = new Date(this.valueOf()); return a.setDate(a.getDate() + e), a }; var configureSelects = function () { $(".select").each(function () { this.addEventListener("valueChange.mdb.select", e => { let a = $("#" + e.target.parentElement.id).find(".form-control.select-input"); $(a).hasClass("active") || $(a).addClass("active") }); let e = $(this).val(); if (void 0 != e && e.length > 0) { let a = $(this).parent().find(".form-control.select-input"); $(a).hasClass("active") || $(a).addClass("active") } }) }, configureDatepickers = function () { $(".datepicker-disable-future").each(function () { new mdb.Datepicker(this, { disableFuture: !0, toggleButton: !1 }) }), $(".datepicker-disable-past").each(function () { new mdb.Datepicker(this, { disablePast: !0, toggleButton: !1 }), this.addEventListener("dateChange.mdb.datepicker", e => { let a = e.srcElement.children[0].id, t = e.date, o = ""; switch (a) { case "CarouselComponent_CheckInDate": o = "CarouselComponent_CheckOutDate"; break; case "BookNowBanner_CheckInDate": o = "BookNowBanner_CheckOutDate"; break; case "CheckInDate": o = "CheckOutDate"; break; case "CarouselComponent_CheckOutDate": o = "CarouselComponent_CheckInDate"; break; case "BookNowBanner_CheckOutDate": o = "BookNowBanner_CheckInDate"; break; case "CheckOutDate": o = "CheckInDate" }if ("CarouselComponent_CheckInDate" == a || "BookNowBanner_CheckInDate" == a || "CheckInDate" == a) { let s = t.addDays(1), n = document.getElementById(o).parentElement, i = mdb.Datepicker.getInstance(n); i && (i.dispose(), i = new mdb.Datepicker(n, { disablePast: !0, toggleButton: !1, min: s, startDate: s })) } else if ("CarouselComponent_CheckOutDate" == a || "BookNowBanner_CheckOutDate" == a || "CheckOutDate" == a) { let l = document.getElementById(o).parentElement, r = mdb.Datepicker.getInstance(l); r && (r.dispose(), r = new mdb.Datepicker(l, { disablePast: !0, toggleButton: !1, max: t })) } }) }) }, adjustCardMargain = function () { $(".alternating-card-height").length > 0 && $(".alternating-card-height").each(function () { let e = 0, a = $(this).find(".card"); a.length > 0 && a.each(function (a, t) { if (a % 2 != 0) { if (isMobile()) $(t).parent("div").css("top", "unset"), $(t).parent("div").css("margin-bottom", "unset"); else { 0 == e && (e = parseFloat($(t).parent("div").css("marginBottom").replace("px", ""))); let o = 315 + e; $(t).parent("div").css("top", "-" + o + "px"), $(t).parent("div").css("margin-bottom", "-" + o + "px") } } }) }), $(".lightbox-card").length > 0 && $(".lightbox-card").each(function (e, a) { if (e % 2 != 0) { if (isMobile()) $(a).css("top", "unset"), $(a).css("margin-bottom", "unset"); else { let t = $(a).css("marginBottom").replace("px", ""); $(a).css("top", t + "px"), $(a).css("margin-bottom", "-" + t + "px") } } }) }, adjustCircularImages = function () { $(".full-circle").each(function () { let e = $(this).find(".object-fit-cover"); e.height(); let a = $(this).parent().width(), t = $(this).parent().prev("div").outerHeight() + 150; t > 430 && (t = 430), t = a, $(this).width(t), $(this).height(t), e.show() }), $(".lightbox-card").each(function () { let e = $(this).find("img"), a = e.width(); e.width(a), e.height(a), e.show() }) }, setMultiItemCarousel = function () { $(".owl-carousel").length > 0 && $(".owl-carousel").each(function () { $(this).owlCarousel({ loop: !0, margin: 20, responsiveClass: !0, responsive: { 0: { items: 1, nav: !0 }, 768: { items: 2, nav: !0 }, 1415: { items: 3, nav: !0, loop: !1 } }, onInitialized: function (e) { let a = jQuery(e.target); e.item.index, a.find(".owl-item").addClass("col-xs-12 col-md-12 col-lg-4"), a.find(".owl-stage").addClass("row gx-2") } }) }) }, validateSelectElements = function (e, a) { let t = e.find(".select"); return t.length > 0 && t.each(function (e, t) { !validateSelectElement(t) && a && (a = !1) }), a }, validateSelectElement = function (e) { let a = $(e).val(), t = $(e).data("val-required"), o = $(e).attr("name"); var s = $('span[data-valmsg-for="' + o + '"]'); return null == a || 0 == a.length ? (s.removeClass("field-validation-valid").addClass("field-validation-error").html('<span id="' + o + '-error" class="">' + t + "</span>"), !1) : (s.removeClass("field-validation-error").addClass("field-validation-valid").html(""), !0) }, postAjax = function (e, a, t, o = !1) { $.ajax({ type: "POST", url: "/?handler=" + e, data: JSON.stringify(a), dataType: "json", contentType: "application/json", headers: { RequestVerificationToken: $('input:hidden[name="__RequestVerificationToken"]').val() }, success: function (e) { t(e) }, error: function (e, a, t) { console.log(e, a, t) } }) }; function getBaseUrl() { var e, a = location.href.split("/"), t = a[0]; return t + "//" + a[2] + "/" } var setParallaxMarquee = function () { $(".marquee").length > 0 && [{ element: $(".marquee:nth-of-type(1)"), direction: "left", factor: 7 }, { element: $(".marquee:nth-of-type(2)"), direction: "right", factor: 8 }, { element: $(".marquee:nth-of-type(3)"), direction: "left", factor: 9 }].forEach(function (e) { var a = e.element.offset().left, t = e.element.width(), o = -1; "left" === e.direction ? e.element.css({ transform: "translateX(" + -t + "px)" }) : e.element.css({ transform: "translateX(" + ($(window).width() - a) + "px)" }), $(window).scroll(function () { var s = $(window).scrollTop(); o = s, requestAnimationFrame(function () { if ("left" === e.direction) { var o = -s / e.factor - a; o < -t && (o += t), e.element.css({ transform: "translateX(" + o + "px)" }) } else { var o = s / e.factor + ($(window).width() - a); o > $(window).width() && (o -= t), e.element.css({ transform: "translateX(" + o + "px)" }) } }) }) }) }, getCookie = function () { void 0 == Cookie.get("fuse-hostels-and-travel") && window.setTimeout(function () { let e = document.getElementById("cookiesModal"); new mdb.Modal(e).show() }, 2e3) }, confirmCookie = function () { Cookie.set("fuse-hostels-and-travel", new Date, { expires: 365 }), $("#cookiesModal").modal("hide") };